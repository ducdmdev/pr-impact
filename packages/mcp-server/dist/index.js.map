{"version":3,"sources":["../src/index.ts","../src/tools/analyze-diff.ts","../src/tools/get-breaking-changes.ts","../src/tools/get-risk-score.ts","../src/tools/get-impact-graph.ts"],"sourcesContent":["import { McpServer } from '@modelcontextprotocol/sdk/server/mcp.js';\nimport { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';\nimport { registerAnalyzeDiffTool } from './tools/analyze-diff.js';\nimport { registerGetBreakingChangesTool } from './tools/get-breaking-changes.js';\nimport { registerGetRiskScoreTool } from './tools/get-risk-score.js';\nimport { registerGetImpactGraphTool } from './tools/get-impact-graph.js';\n\nconst server = new McpServer({\n  name: 'pr-impact',\n  version: '0.1.0',\n});\n\nregisterAnalyzeDiffTool(server);\nregisterGetBreakingChangesTool(server);\nregisterGetRiskScoreTool(server);\nregisterGetImpactGraphTool(server);\n\nasync function main() {\n  const transport = new StdioServerTransport();\n  await server.connect(transport);\n}\n\nmain().catch(console.error);\n","import { McpServer } from '@modelcontextprotocol/sdk/server/mcp.js';\nimport { z } from 'zod';\nimport { analyzePR, formatMarkdown } from '@pr-impact/core';\n\nexport function registerAnalyzeDiffTool(server: McpServer): void {\n  server.tool(\n    'analyze_diff',\n    'Run full PR impact analysis including breaking changes, test coverage, doc staleness, and risk scoring',\n    {\n      repoPath: z.string().optional().describe('Path to git repo, defaults to cwd'),\n      baseBranch: z.string().optional().describe('Base branch, defaults to main'),\n      headBranch: z.string().optional().describe('Head branch, defaults to HEAD'),\n    },\n    async ({ repoPath, baseBranch, headBranch }) => {\n      try {\n        const analysis = await analyzePR({\n          repoPath: repoPath || process.cwd(),\n          baseBranch,\n          headBranch,\n        });\n        return {\n          content: [{ type: 'text' as const, text: formatMarkdown(analysis) }],\n        };\n      } catch (error) {\n        const message = error instanceof Error ? error.message : String(error);\n        return {\n          content: [{ type: 'text' as const, text: `Error analyzing diff: ${message}` }],\n          isError: true,\n        };\n      }\n    }\n  );\n}\n","import { McpServer } from '@modelcontextprotocol/sdk/server/mcp.js';\nimport { z } from 'zod';\nimport { parseDiff, detectBreakingChanges } from '@pr-impact/core';\nimport type { BreakingChange } from '@pr-impact/core';\n\nconst SEVERITY_ORDER: Record<string, number> = {\n  low: 0,\n  medium: 1,\n  high: 2,\n};\n\nfunction formatBreakingChange(bc: BreakingChange): string {\n  const lines: string[] = [];\n  lines.push(`- **${bc.symbolName}** in \\`${bc.filePath}\\``);\n  lines.push(`  Type: ${bc.type} | Severity: ${bc.severity}`);\n  lines.push(`  Before: \\`${bc.before}\\``);\n  if (bc.after !== null) {\n    lines.push(`  After: \\`${bc.after}\\``);\n  } else {\n    lines.push(`  After: (removed)`);\n  }\n  if (bc.consumers.length > 0) {\n    lines.push(`  Consumers: ${bc.consumers.map((c) => `\\`${c}\\``).join(', ')}`);\n  }\n  return lines.join('\\n');\n}\n\nexport function registerGetBreakingChangesTool(server: McpServer): void {\n  server.tool(\n    'get_breaking_changes',\n    'Detect breaking changes between two branches with optional severity filtering',\n    {\n      repoPath: z.string().optional().describe('Path to git repo, defaults to cwd'),\n      baseBranch: z.string().optional().describe('Base branch, defaults to main'),\n      headBranch: z.string().optional().describe('Head branch, defaults to HEAD'),\n      minSeverity: z\n        .enum(['low', 'medium', 'high'])\n        .optional()\n        .describe('Minimum severity to include, defaults to low (show all)'),\n    },\n    async ({ repoPath, baseBranch, headBranch, minSeverity }) => {\n      try {\n        const repo = repoPath || process.cwd();\n        const base = baseBranch || 'main';\n        const head = headBranch || 'HEAD';\n\n        const changedFiles = await parseDiff(repo, base, head);\n        const breakingChanges = await detectBreakingChanges(repo, base, head, changedFiles);\n\n        const minLevel = SEVERITY_ORDER[minSeverity || 'low'] ?? 0;\n        const filtered = breakingChanges.filter(\n          (bc) => (SEVERITY_ORDER[bc.severity] ?? 0) >= minLevel\n        );\n\n        if (filtered.length === 0) {\n          const qualifier = minSeverity ? ` at or above ${minSeverity} severity` : '';\n          return {\n            content: [\n              {\n                type: 'text' as const,\n                text: `No breaking changes detected${qualifier}.`,\n              },\n            ],\n          };\n        }\n\n        const header = `Found ${filtered.length} breaking change${filtered.length === 1 ? '' : 's'}:\\n`;\n        const body = filtered.map(formatBreakingChange).join('\\n\\n');\n\n        return {\n          content: [{ type: 'text' as const, text: header + '\\n' + body }],\n        };\n      } catch (error) {\n        const message = error instanceof Error ? error.message : String(error);\n        return {\n          content: [\n            { type: 'text' as const, text: `Error detecting breaking changes: ${message}` },\n          ],\n          isError: true,\n        };\n      }\n    }\n  );\n}\n","import { McpServer } from '@modelcontextprotocol/sdk/server/mcp.js';\nimport { z } from 'zod';\nimport { analyzePR } from '@pr-impact/core';\nimport type { RiskAssessment, RiskFactor } from '@pr-impact/core';\n\nfunction formatRiskFactor(factor: RiskFactor): string {\n  const weighted = (factor.score * factor.weight).toFixed(1);\n  let line = `- **${factor.name}** (score: ${factor.score}, weight: ${factor.weight}, weighted: ${weighted})`;\n  line += `\\n  ${factor.description}`;\n  if (factor.details && factor.details.length > 0) {\n    for (const detail of factor.details) {\n      line += `\\n    - ${detail}`;\n    }\n  }\n  return line;\n}\n\nfunction formatRiskAssessment(risk: RiskAssessment): string {\n  const lines: string[] = [];\n  lines.push(`## Risk Assessment`);\n  lines.push('');\n  lines.push(`**Overall Score:** ${risk.score}/100`);\n  lines.push(`**Risk Level:** ${risk.level.toUpperCase()}`);\n  lines.push('');\n\n  if (risk.factors.length > 0) {\n    lines.push(`### Contributing Factors`);\n    lines.push('');\n    for (const factor of risk.factors) {\n      lines.push(formatRiskFactor(factor));\n    }\n  } else {\n    lines.push('No risk factors identified.');\n  }\n\n  return lines.join('\\n');\n}\n\nexport function registerGetRiskScoreTool(server: McpServer): void {\n  server.tool(\n    'get_risk_score',\n    'Calculate risk score and breakdown for a PR, showing overall score, level, and contributing factors',\n    {\n      repoPath: z.string().optional().describe('Path to git repo, defaults to cwd'),\n      baseBranch: z.string().optional().describe('Base branch, defaults to main'),\n      headBranch: z.string().optional().describe('Head branch, defaults to HEAD'),\n    },\n    async ({ repoPath, baseBranch, headBranch }) => {\n      try {\n        const analysis = await analyzePR({\n          repoPath: repoPath || process.cwd(),\n          baseBranch,\n          headBranch,\n        });\n\n        const text = formatRiskAssessment(analysis.riskScore);\n        return {\n          content: [{ type: 'text' as const, text }],\n        };\n      } catch (error) {\n        const message = error instanceof Error ? error.message : String(error);\n        return {\n          content: [\n            { type: 'text' as const, text: `Error calculating risk score: ${message}` },\n          ],\n          isError: true,\n        };\n      }\n    }\n  );\n}\n","import { McpServer } from '@modelcontextprotocol/sdk/server/mcp.js';\nimport { z } from 'zod';\nimport { parseDiff, buildImpactGraph } from '@pr-impact/core';\nimport type { ImpactGraph } from '@pr-impact/core';\n\nfunction formatImpactGraph(graph: ImpactGraph, filePath?: string): string {\n  const lines: string[] = [];\n\n  if (filePath) {\n    const isDirectlyChanged = graph.directlyChanged.includes(filePath);\n    const isIndirectlyAffected = graph.indirectlyAffected.includes(filePath);\n\n    lines.push(`## Impact Graph for \\`${filePath}\\``);\n    lines.push('');\n\n    if (isDirectlyChanged) {\n      lines.push(`This file is **directly changed** in the PR.`);\n    } else if (isIndirectlyAffected) {\n      lines.push(`This file is **indirectly affected** by the PR changes.`);\n    } else {\n      lines.push(`This file is not affected by the PR changes.`);\n      return lines.join('\\n');\n    }\n\n    lines.push('');\n\n    const relevantEdges = graph.edges.filter(\n      (edge) => edge.from === filePath || edge.to === filePath\n    );\n\n    if (relevantEdges.length > 0) {\n      lines.push(`### Dependencies`);\n      lines.push('');\n      for (const edge of relevantEdges) {\n        if (edge.from === filePath) {\n          lines.push(`- \\`${filePath}\\` ${edge.type} \\`${edge.to}\\``);\n        } else {\n          lines.push(`- \\`${edge.from}\\` ${edge.type} \\`${filePath}\\``);\n        }\n      }\n    }\n\n    return lines.join('\\n');\n  }\n\n  lines.push(`## Impact Graph`);\n  lines.push('');\n\n  lines.push(`### Directly Changed (${graph.directlyChanged.length})`);\n  lines.push('');\n  if (graph.directlyChanged.length > 0) {\n    for (const file of graph.directlyChanged) {\n      lines.push(`- \\`${file}\\``);\n    }\n  } else {\n    lines.push('No files directly changed.');\n  }\n\n  lines.push('');\n  lines.push(`### Indirectly Affected (${graph.indirectlyAffected.length})`);\n  lines.push('');\n  if (graph.indirectlyAffected.length > 0) {\n    for (const file of graph.indirectlyAffected) {\n      lines.push(`- \\`${file}\\``);\n    }\n  } else {\n    lines.push('No files indirectly affected.');\n  }\n\n  if (graph.edges.length > 0) {\n    lines.push('');\n    lines.push(`### Dependency Edges (${graph.edges.length})`);\n    lines.push('');\n    for (const edge of graph.edges) {\n      lines.push(`- \\`${edge.from}\\` ${edge.type} \\`${edge.to}\\``);\n    }\n  }\n\n  return lines.join('\\n');\n}\n\nexport function registerGetImpactGraphTool(server: McpServer): void {\n  server.tool(\n    'get_impact_graph',\n    'Build an import dependency graph showing directly changed and indirectly affected files',\n    {\n      repoPath: z.string().optional().describe('Path to git repo, defaults to cwd'),\n      baseBranch: z.string().optional().describe('Base branch, defaults to main'),\n      headBranch: z.string().optional().describe('Head branch, defaults to HEAD'),\n      filePath: z.string().optional().describe('Focus on a specific file in the graph'),\n      depth: z.number().optional().describe('Max depth for graph traversal, defaults to 3'),\n    },\n    async ({ repoPath, baseBranch, headBranch, filePath, depth }) => {\n      try {\n        const repo = repoPath || process.cwd();\n        const base = baseBranch || 'main';\n        const head = headBranch || 'HEAD';\n\n        const changedFiles = await parseDiff(repo, base, head);\n        const graph = await buildImpactGraph(repo, changedFiles, depth ?? 3);\n\n        const text = formatImpactGraph(graph, filePath);\n        return {\n          content: [{ type: 'text' as const, text }],\n        };\n      } catch (error) {\n        const message = error instanceof Error ? error.message : String(error);\n        return {\n          content: [\n            { type: 'text' as const, text: `Error building impact graph: ${message}` },\n          ],\n          isError: true,\n        };\n      }\n    }\n  );\n}\n"],"mappings":";;;AAAA,SAAS,iBAAiB;AAC1B,SAAS,4BAA4B;;;ACArC,SAAS,SAAS;AAClB,SAAS,WAAW,sBAAsB;AAEnC,SAAS,wBAAwBA,SAAyB;AAC/D,EAAAA,QAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,MACE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,mCAAmC;AAAA,MAC5E,YAAY,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,+BAA+B;AAAA,MAC1E,YAAY,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,+BAA+B;AAAA,IAC5E;AAAA,IACA,OAAO,EAAE,UAAU,YAAY,WAAW,MAAM;AAC9C,UAAI;AACF,cAAM,WAAW,MAAM,UAAU;AAAA,UAC/B,UAAU,YAAY,QAAQ,IAAI;AAAA,UAClC;AAAA,UACA;AAAA,QACF,CAAC;AACD,eAAO;AAAA,UACL,SAAS,CAAC,EAAE,MAAM,QAAiB,MAAM,eAAe,QAAQ,EAAE,CAAC;AAAA,QACrE;AAAA,MACF,SAAS,OAAO;AACd,cAAM,UAAU,iBAAiB,QAAQ,MAAM,UAAU,OAAO,KAAK;AACrE,eAAO;AAAA,UACL,SAAS,CAAC,EAAE,MAAM,QAAiB,MAAM,yBAAyB,OAAO,GAAG,CAAC;AAAA,UAC7E,SAAS;AAAA,QACX;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;;;AC/BA,SAAS,KAAAC,UAAS;AAClB,SAAS,WAAW,6BAA6B;AAGjD,IAAM,iBAAyC;AAAA,EAC7C,KAAK;AAAA,EACL,QAAQ;AAAA,EACR,MAAM;AACR;AAEA,SAAS,qBAAqB,IAA4B;AACxD,QAAM,QAAkB,CAAC;AACzB,QAAM,KAAK,OAAO,GAAG,UAAU,WAAW,GAAG,QAAQ,IAAI;AACzD,QAAM,KAAK,WAAW,GAAG,IAAI,gBAAgB,GAAG,QAAQ,EAAE;AAC1D,QAAM,KAAK,eAAe,GAAG,MAAM,IAAI;AACvC,MAAI,GAAG,UAAU,MAAM;AACrB,UAAM,KAAK,cAAc,GAAG,KAAK,IAAI;AAAA,EACvC,OAAO;AACL,UAAM,KAAK,oBAAoB;AAAA,EACjC;AACA,MAAI,GAAG,UAAU,SAAS,GAAG;AAC3B,UAAM,KAAK,gBAAgB,GAAG,UAAU,IAAI,CAAC,MAAM,KAAK,CAAC,IAAI,EAAE,KAAK,IAAI,CAAC,EAAE;AAAA,EAC7E;AACA,SAAO,MAAM,KAAK,IAAI;AACxB;AAEO,SAAS,+BAA+BC,SAAyB;AACtE,EAAAA,QAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,MACE,UAAUD,GAAE,OAAO,EAAE,SAAS,EAAE,SAAS,mCAAmC;AAAA,MAC5E,YAAYA,GAAE,OAAO,EAAE,SAAS,EAAE,SAAS,+BAA+B;AAAA,MAC1E,YAAYA,GAAE,OAAO,EAAE,SAAS,EAAE,SAAS,+BAA+B;AAAA,MAC1E,aAAaA,GACV,KAAK,CAAC,OAAO,UAAU,MAAM,CAAC,EAC9B,SAAS,EACT,SAAS,yDAAyD;AAAA,IACvE;AAAA,IACA,OAAO,EAAE,UAAU,YAAY,YAAY,YAAY,MAAM;AAC3D,UAAI;AACF,cAAM,OAAO,YAAY,QAAQ,IAAI;AACrC,cAAM,OAAO,cAAc;AAC3B,cAAM,OAAO,cAAc;AAE3B,cAAM,eAAe,MAAM,UAAU,MAAM,MAAM,IAAI;AACrD,cAAM,kBAAkB,MAAM,sBAAsB,MAAM,MAAM,MAAM,YAAY;AAElF,cAAM,WAAW,eAAe,eAAe,KAAK,KAAK;AACzD,cAAM,WAAW,gBAAgB;AAAA,UAC/B,CAAC,QAAQ,eAAe,GAAG,QAAQ,KAAK,MAAM;AAAA,QAChD;AAEA,YAAI,SAAS,WAAW,GAAG;AACzB,gBAAM,YAAY,cAAc,gBAAgB,WAAW,cAAc;AACzE,iBAAO;AAAA,YACL,SAAS;AAAA,cACP;AAAA,gBACE,MAAM;AAAA,gBACN,MAAM,+BAA+B,SAAS;AAAA,cAChD;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAEA,cAAM,SAAS,SAAS,SAAS,MAAM,mBAAmB,SAAS,WAAW,IAAI,KAAK,GAAG;AAAA;AAC1F,cAAM,OAAO,SAAS,IAAI,oBAAoB,EAAE,KAAK,MAAM;AAE3D,eAAO;AAAA,UACL,SAAS,CAAC,EAAE,MAAM,QAAiB,MAAM,SAAS,OAAO,KAAK,CAAC;AAAA,QACjE;AAAA,MACF,SAAS,OAAO;AACd,cAAM,UAAU,iBAAiB,QAAQ,MAAM,UAAU,OAAO,KAAK;AACrE,eAAO;AAAA,UACL,SAAS;AAAA,YACP,EAAE,MAAM,QAAiB,MAAM,qCAAqC,OAAO,GAAG;AAAA,UAChF;AAAA,UACA,SAAS;AAAA,QACX;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;;;AClFA,SAAS,KAAAE,UAAS;AAClB,SAAS,aAAAC,kBAAiB;AAG1B,SAAS,iBAAiB,QAA4B;AACpD,QAAM,YAAY,OAAO,QAAQ,OAAO,QAAQ,QAAQ,CAAC;AACzD,MAAI,OAAO,OAAO,OAAO,IAAI,cAAc,OAAO,KAAK,aAAa,OAAO,MAAM,eAAe,QAAQ;AACxG,UAAQ;AAAA,IAAO,OAAO,WAAW;AACjC,MAAI,OAAO,WAAW,OAAO,QAAQ,SAAS,GAAG;AAC/C,eAAW,UAAU,OAAO,SAAS;AACnC,cAAQ;AAAA,QAAW,MAAM;AAAA,IAC3B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,qBAAqB,MAA8B;AAC1D,QAAM,QAAkB,CAAC;AACzB,QAAM,KAAK,oBAAoB;AAC/B,QAAM,KAAK,EAAE;AACb,QAAM,KAAK,sBAAsB,KAAK,KAAK,MAAM;AACjD,QAAM,KAAK,mBAAmB,KAAK,MAAM,YAAY,CAAC,EAAE;AACxD,QAAM,KAAK,EAAE;AAEb,MAAI,KAAK,QAAQ,SAAS,GAAG;AAC3B,UAAM,KAAK,0BAA0B;AACrC,UAAM,KAAK,EAAE;AACb,eAAW,UAAU,KAAK,SAAS;AACjC,YAAM,KAAK,iBAAiB,MAAM,CAAC;AAAA,IACrC;AAAA,EACF,OAAO;AACL,UAAM,KAAK,6BAA6B;AAAA,EAC1C;AAEA,SAAO,MAAM,KAAK,IAAI;AACxB;AAEO,SAAS,yBAAyBC,SAAyB;AAChE,EAAAA,QAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,MACE,UAAUF,GAAE,OAAO,EAAE,SAAS,EAAE,SAAS,mCAAmC;AAAA,MAC5E,YAAYA,GAAE,OAAO,EAAE,SAAS,EAAE,SAAS,+BAA+B;AAAA,MAC1E,YAAYA,GAAE,OAAO,EAAE,SAAS,EAAE,SAAS,+BAA+B;AAAA,IAC5E;AAAA,IACA,OAAO,EAAE,UAAU,YAAY,WAAW,MAAM;AAC9C,UAAI;AACF,cAAM,WAAW,MAAMC,WAAU;AAAA,UAC/B,UAAU,YAAY,QAAQ,IAAI;AAAA,UAClC;AAAA,UACA;AAAA,QACF,CAAC;AAED,cAAM,OAAO,qBAAqB,SAAS,SAAS;AACpD,eAAO;AAAA,UACL,SAAS,CAAC,EAAE,MAAM,QAAiB,KAAK,CAAC;AAAA,QAC3C;AAAA,MACF,SAAS,OAAO;AACd,cAAM,UAAU,iBAAiB,QAAQ,MAAM,UAAU,OAAO,KAAK;AACrE,eAAO;AAAA,UACL,SAAS;AAAA,YACP,EAAE,MAAM,QAAiB,MAAM,iCAAiC,OAAO,GAAG;AAAA,UAC5E;AAAA,UACA,SAAS;AAAA,QACX;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;;;ACrEA,SAAS,KAAAE,UAAS;AAClB,SAAS,aAAAC,YAAW,wBAAwB;AAG5C,SAAS,kBAAkB,OAAoB,UAA2B;AACxE,QAAM,QAAkB,CAAC;AAEzB,MAAI,UAAU;AACZ,UAAM,oBAAoB,MAAM,gBAAgB,SAAS,QAAQ;AACjE,UAAM,uBAAuB,MAAM,mBAAmB,SAAS,QAAQ;AAEvE,UAAM,KAAK,yBAAyB,QAAQ,IAAI;AAChD,UAAM,KAAK,EAAE;AAEb,QAAI,mBAAmB;AACrB,YAAM,KAAK,8CAA8C;AAAA,IAC3D,WAAW,sBAAsB;AAC/B,YAAM,KAAK,yDAAyD;AAAA,IACtE,OAAO;AACL,YAAM,KAAK,8CAA8C;AACzD,aAAO,MAAM,KAAK,IAAI;AAAA,IACxB;AAEA,UAAM,KAAK,EAAE;AAEb,UAAM,gBAAgB,MAAM,MAAM;AAAA,MAChC,CAAC,SAAS,KAAK,SAAS,YAAY,KAAK,OAAO;AAAA,IAClD;AAEA,QAAI,cAAc,SAAS,GAAG;AAC5B,YAAM,KAAK,kBAAkB;AAC7B,YAAM,KAAK,EAAE;AACb,iBAAW,QAAQ,eAAe;AAChC,YAAI,KAAK,SAAS,UAAU;AAC1B,gBAAM,KAAK,OAAO,QAAQ,MAAM,KAAK,IAAI,MAAM,KAAK,EAAE,IAAI;AAAA,QAC5D,OAAO;AACL,gBAAM,KAAK,OAAO,KAAK,IAAI,MAAM,KAAK,IAAI,MAAM,QAAQ,IAAI;AAAA,QAC9D;AAAA,MACF;AAAA,IACF;AAEA,WAAO,MAAM,KAAK,IAAI;AAAA,EACxB;AAEA,QAAM,KAAK,iBAAiB;AAC5B,QAAM,KAAK,EAAE;AAEb,QAAM,KAAK,yBAAyB,MAAM,gBAAgB,MAAM,GAAG;AACnE,QAAM,KAAK,EAAE;AACb,MAAI,MAAM,gBAAgB,SAAS,GAAG;AACpC,eAAW,QAAQ,MAAM,iBAAiB;AACxC,YAAM,KAAK,OAAO,IAAI,IAAI;AAAA,IAC5B;AAAA,EACF,OAAO;AACL,UAAM,KAAK,4BAA4B;AAAA,EACzC;AAEA,QAAM,KAAK,EAAE;AACb,QAAM,KAAK,4BAA4B,MAAM,mBAAmB,MAAM,GAAG;AACzE,QAAM,KAAK,EAAE;AACb,MAAI,MAAM,mBAAmB,SAAS,GAAG;AACvC,eAAW,QAAQ,MAAM,oBAAoB;AAC3C,YAAM,KAAK,OAAO,IAAI,IAAI;AAAA,IAC5B;AAAA,EACF,OAAO;AACL,UAAM,KAAK,+BAA+B;AAAA,EAC5C;AAEA,MAAI,MAAM,MAAM,SAAS,GAAG;AAC1B,UAAM,KAAK,EAAE;AACb,UAAM,KAAK,yBAAyB,MAAM,MAAM,MAAM,GAAG;AACzD,UAAM,KAAK,EAAE;AACb,eAAW,QAAQ,MAAM,OAAO;AAC9B,YAAM,KAAK,OAAO,KAAK,IAAI,MAAM,KAAK,IAAI,MAAM,KAAK,EAAE,IAAI;AAAA,IAC7D;AAAA,EACF;AAEA,SAAO,MAAM,KAAK,IAAI;AACxB;AAEO,SAAS,2BAA2BC,SAAyB;AAClE,EAAAA,QAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,MACE,UAAUF,GAAE,OAAO,EAAE,SAAS,EAAE,SAAS,mCAAmC;AAAA,MAC5E,YAAYA,GAAE,OAAO,EAAE,SAAS,EAAE,SAAS,+BAA+B;AAAA,MAC1E,YAAYA,GAAE,OAAO,EAAE,SAAS,EAAE,SAAS,+BAA+B;AAAA,MAC1E,UAAUA,GAAE,OAAO,EAAE,SAAS,EAAE,SAAS,uCAAuC;AAAA,MAChF,OAAOA,GAAE,OAAO,EAAE,SAAS,EAAE,SAAS,8CAA8C;AAAA,IACtF;AAAA,IACA,OAAO,EAAE,UAAU,YAAY,YAAY,UAAU,MAAM,MAAM;AAC/D,UAAI;AACF,cAAM,OAAO,YAAY,QAAQ,IAAI;AACrC,cAAM,OAAO,cAAc;AAC3B,cAAM,OAAO,cAAc;AAE3B,cAAM,eAAe,MAAMC,WAAU,MAAM,MAAM,IAAI;AACrD,cAAM,QAAQ,MAAM,iBAAiB,MAAM,cAAc,SAAS,CAAC;AAEnE,cAAM,OAAO,kBAAkB,OAAO,QAAQ;AAC9C,eAAO;AAAA,UACL,SAAS,CAAC,EAAE,MAAM,QAAiB,KAAK,CAAC;AAAA,QAC3C;AAAA,MACF,SAAS,OAAO;AACd,cAAM,UAAU,iBAAiB,QAAQ,MAAM,UAAU,OAAO,KAAK;AACrE,eAAO;AAAA,UACL,SAAS;AAAA,YACP,EAAE,MAAM,QAAiB,MAAM,gCAAgC,OAAO,GAAG;AAAA,UAC3E;AAAA,UACA,SAAS;AAAA,QACX;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;;;AJ7GA,IAAM,SAAS,IAAI,UAAU;AAAA,EAC3B,MAAM;AAAA,EACN,SAAS;AACX,CAAC;AAED,wBAAwB,MAAM;AAC9B,+BAA+B,MAAM;AACrC,yBAAyB,MAAM;AAC/B,2BAA2B,MAAM;AAEjC,eAAe,OAAO;AACpB,QAAM,YAAY,IAAI,qBAAqB;AAC3C,QAAM,OAAO,QAAQ,SAAS;AAChC;AAEA,KAAK,EAAE,MAAM,QAAQ,KAAK;","names":["server","z","server","z","analyzePR","server","z","parseDiff","server"]}